type: picture-elements
image: /local/floorplan/base.png?version=290B054E5B2C5A9D04162BC8E9132962
elements:
  - type: custom:config-template-card
    variables:
      LIGHT_STATE: states['light.dimmer_overkapping'].state
      COLOR_MODE: states['light.dimmer_overkapping'].attributes.color_mode
      LIGHT_COLOR: states['light.dimmer_overkapping'].attributes.hs_color
      BRIGHTNESS: states['light.dimmer_overkapping'].attributes.brightness
    entities:
      - light.dimmer_overkapping
    element:
      type: image
      image: /local/floorplan/transparent.png?version=56ABE4CBC175363DA0810882244B34FF
      state_image:
        'on': >-
          ${COLOR_MODE === 'color_temp' || COLOR_MODE === 'brightness' || ((COLOR_MODE === 'rgb' || COLOR_MODE === 'hs') && LIGHT_COLOR && LIGHT_COLOR[0] == 0 && LIGHT_COLOR[1] == 0) ?
          '/local/floorplan/light.dimmer_overkapping.png?version=62A9D7945D0898D4E7452F09802477A5' :
          '/local/floorplan/light.dimmer_overkapping.red.png?version=BEA67982C2764FEE9B61B3155513FFF9' }
      entity: light.dimmer_overkapping
    style:
      filter: '${ "hue-rotate(" + (LIGHT_COLOR ? LIGHT_COLOR[0] : 0) + "deg)"}'
      opacity: '${LIGHT_STATE === ''on'' ? (BRIGHTNESS / 255) : ''100''}'
      mix-blend-mode: lighten
      pointer-events: none
      left: 50%
      top: 50%
      width: 100%
  - type: state-icon
    entity: light.dimmer_overkapping
    title: null
    style:
      top: 54.12%
      left: 75.30%
      border-radius: 50%
      text-align: center
      background-color: rgba(255, 255, 255, 0.3)
      opacity: 100%
    tap_action:
      action: toggle
    double_tap_action:
      action: none
    hold_action:
      action: more-info
  - type: state-icon
    entity: camera.carport
    title: null
    style:
      top: 24.35%
      left: 48.12%
      border-radius: 50%
      text-align: center
      background-color: rgba(255, 255, 255, 0.3)
      opacity: 100%
    tap_action:
      action: more-info
    double_tap_action:
      action: none
    hold_action:
      action: more-info
  - type: state-icon
    entity: climate.nefit
    title: null
    style:
      top: 55.51%
      left: 41.83%
      border-radius: 50%
      text-align: center
      background-color: rgba(255, 255, 255, 0.3)
      opacity: 100%
    tap_action:
      action: toggle
    double_tap_action:
      action: none
    hold_action:
      action: more-info
